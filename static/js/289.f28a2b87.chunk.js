"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[289],{9289:function(e,t,n){n.r(t);var s=n(1413),r=n(9439),a=n(2791),i=n(1134),o=n(4695),u=n(5068),c=n(6727),l=n(8687),h=n(2855),d=n(184),x=a.memo((function(e){return(0,d.jsx)("div",{children:(0,d.jsx)(f,{})})})),f=function(){var e=(0,l.I0)();return(0,a.useEffect)((function(){return e((0,h.t2)()),function(){e((0,h.K3)())}}),[e]),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{style:{backgroundColor:"lightgrey",padding:"10px"},children:(0,d.jsx)(g,{})}),(0,d.jsx)(j,{})]})},g=function(){var e=(0,l.v9)((function(e){return e.chat.chatMessages})),t=(0,a.useState)(!1),n=(0,r.Z)(t,2),s=n[0],i=n[1],o=(0,a.useRef)(null);return(0,a.useEffect)((function(){var e;s&&(null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),(0,d.jsxs)("div",{style:{overflowY:"auto",height:"450px"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!s&&i(!0):s&&i(!1)},children:[e.map((function(e){return(0,d.jsx)(p,{message:e},e.id)})),(0,d.jsx)("div",{ref:o})]})},p=a.memo((function(e){var t=e.message;return(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{src:t.photo,style:{width:"20px",height:"20px"}}),(0,d.jsx)("b",{children:t.userName}),(0,d.jsx)("span",{style:{paddingLeft:"10px"},children:(new Date).getHours()}),":",(0,d.jsx)("span",{children:(new Date).getMinutes()}),":",(0,d.jsx)("span",{children:(new Date).getSeconds()}),(0,d.jsx)("span",{style:{paddingLeft:"10px"},children:(new Date).getDate()}),"/",(0,d.jsx)("span",{children:(new Date).getMonth()}),"/",(0,d.jsx)("span",{children:(new Date).getFullYear()}),(0,d.jsx)("br",{}),t.message,(0,d.jsx)("hr",{})]})})),j=function(){var e,t=(0,l.v9)((function(e){return e.chat.connectionWSStatus})),n=(0,l.I0)(),r=c.Ry({NewChatMessage:c.Z_().max(100).required()}),a=(0,i.cI)({resolver:(0,o.X)(r)}),x=a.register,f=a.handleSubmit,g=a.formState.errors,p=a.reset,j=function(e){e.NewChatMessage&&n((0,h.Lf)(e.NewChatMessage)),p()};return(0,d.jsxs)("form",{onSubmit:f(j),onKeyDown:function(e){return function(e){"Enter"===e.key&&e.ctrlKey&&t&&f(j)()}(e)},children:[(0,d.jsx)("textarea",(0,s.Z)((0,s.Z)({},x("NewChatMessage")),{},{placeholder:"New Chat Message"})),(0,d.jsx)("div",{children:(0,d.jsx)("input",{type:"submit",disabled:!t,value:"Send Chat Message"})}),(0,d.jsx)("p",{className:u.Z.error,children:null===(e=g.NewChatMessage)||void 0===e?void 0:e.message})]})};t.default=x},5068:function(e,t){t.Z={userFoto:"User_userFoto__houx+",error:"User_error__SAXv6"}}}]);
//# sourceMappingURL=289.f28a2b87.chunk.js.map